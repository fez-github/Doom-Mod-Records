{% extends 'base.html' %}

{% block content %}
<!--
    <div id="recordInfo" record_id="{{record.id}}">
        <p><a href="{{ url_for('get_mod', mod_id = record.mod.id) }}" id="title">Mod: {{record.mod.title}}</a></p>
        <p><a href="{{ url_for('get_user', user_id = record.user.id) }}">User: {{record.user.username}}</a></p>        
        <p id="date_added">{{record.date_added}}</p>
        <p id="user_notes">Notes: {{record.user_notes}}</p>
        <p id="user_review">Review: {{record.user_review}}</p>
        <p id="play_status">Play Status: {{record.play_status}}</p>
    </div>
-->
    <div class="card" style="width:60%;">
        <div class="card-header d-flex flex-row">
            <h5 class="col-sm-8">
                <a href="{{ url_for('get_mod', mod_id = record.mod.id) }}">
                    Mod: {{record.mod.title}}
                </a>
            </h5>
            <h5 class="col-sm-4">
                <a href="{{ url_for('get_user', user_id = record.user.id) }}">
                    User: {{record.user.username}}
                </a>
            </h5>
        </div>
        <div class="card-body d-flex flex-row">
            <ul class="col-sm-8">
                <li>Date Added: {{record.date_added}}</li>
                <li>Play Status: {{record.play_status}}</li>
            </ul>
            <p class="col-sm-4">
                Now Playing: {{record.now_playing}}
            </p>
            {% if record.user_notes is not defined %}
            <div class="d-flex flex-row">
                <div class="d-flex flex-column col-sm-6">
                    <h4><u>Notes:</u></h4>
                    <p style="height: 70%; overflow-y:scroll">
                        {{record.user_notes}}
                    </p>
                </div>
            {% endif %}

            {% if record.user_review is not defined %}
                <div class="d-flex flex-column col-sm-6">
                    <h4><u>Review:</u></h4>
                    <p style="height: 70%; overflow-y:scroll">
                        {{record.user_review}}
                    </p>
                </div>
            {% endif %}
            </div>
        {% if g.user.id == record.user_id %}
            <div class="d-flex flex-row">
                <form action="{{ url_for('edit_record', record_id = record.id) }}" method="GET">
                    <button class="btn btn-primary" id="editRecordButton">Edit Record</button>
                </form>
                <form action="{{ url_for('delete_record', record_id = record.id) }}" method="POST">
                    <button class="btn btn-danger" id="deleteRecordButton" 
                        onclick="return confirm('Are you sure you want to delete this record?');">
                        Delete Record
                    </button>
                </form>
            {% endif %}
            </div>
        </div>
    </div>

    <form action="{{ url_for('record_list')}}", method="GET">
        <button class="btn btn-secondary">Back</button>
    </form>

    <script src="/static/mod.js"></script>

{% endblock %}